{
    "$defs": {
        "InverterControl": {
            "description": "InverterControl with volt-var control and/or volt-watt control.",
            "properties": {
                "pvsystem_list": {
                    "anyOf": [
                        {
                            "items": {
                                "type": "string"
                            },
                            "type": "array"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "title": "Pvsystem List"
                },
                "vvcontrol": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/VVControl"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                },
                "vwcontrol": {
                    "anyOf": [
                        {
                            "$ref": "#/$defs/VWControl"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null
                },
                "mode": {
                    "$ref": "#/$defs/InverterControlMode",
                    "default": "VOLTVAR"
                }
            },
            "title": "InverterControl",
            "type": "object"
        },
        "InverterControlMode": {
            "description": "Inverter control mode.",
            "enum": [
                "VOLTVAR",
                "VOLTWATT",
                "VV_VW"
            ],
            "title": "InverterControlMode",
            "type": "string"
        },
        "ReactivePowerSetting": {
            "description": "Reactive power setting, almost always VARAVAL_WATTS.",
            "enum": [
                "VARAVAL_WATTS",
                "VARMAX_VARS",
                "VARMAX_WATTS"
            ],
            "title": "ReactivePowerSetting",
            "type": "string"
        },
        "VVControl": {
            "description": "OpenDSS setting for volt-var control.",
            "properties": {
                "deltaq_factor": {
                    "default": -1.0,
                    "title": "Deltaq Factor",
                    "type": "number"
                },
                "varchangetolerance": {
                    "default": 0.025,
                    "title": "Varchangetolerance",
                    "type": "number"
                },
                "voltagechangetolerance": {
                    "default": 0.0001,
                    "title": "Voltagechangetolerance",
                    "type": "number"
                },
                "vv_refreactivepower": {
                    "$ref": "#/$defs/ReactivePowerSetting",
                    "default": "VARAVAL_WATTS"
                },
                "voltage": {
                    "items": {
                        "type": "number"
                    },
                    "title": "Voltage",
                    "type": "array"
                },
                "reactive_response": {
                    "items": {
                        "type": "number"
                    },
                    "title": "Reactive Response",
                    "type": "array"
                }
            },
            "required": [
                "voltage",
                "reactive_response"
            ],
            "title": "VVControl",
            "type": "object"
        },
        "VWControl": {
            "description": "OpenDSS setting for volt-watt control.",
            "properties": {
                "deltap_factor": {
                    "default": -1.0,
                    "title": "Deltap Factor",
                    "type": "number"
                },
                "voltage": {
                    "items": {
                        "type": "number"
                    },
                    "title": "Voltage",
                    "type": "array"
                },
                "power_response": {
                    "items": {
                        "type": "number"
                    },
                    "title": "Power Response",
                    "type": "array"
                }
            },
            "required": [
                "voltage",
                "power_response"
            ],
            "title": "VWControl",
            "type": "object"
        }
    },
    "items": {
        "$ref": "#/$defs/InverterControl"
    },
    "title": "RootModel[List[InverterControl]]",
    "type": "array"
}